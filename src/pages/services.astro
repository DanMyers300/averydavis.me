---
import BaseLayout from '../layouts/BaseLayout.astro';
import siteConfig from '../data/site-config';
---

<BaseLayout>
    <div class="services-container">
        {
            siteConfig.services?.map((service) => (
                <a href={service.url} class="service-link"> <!-- Add this line -->
                    <section class="service-section">
                        <div class="image-container">
                            <img src={service.image.src} alt={service.image.alt} />
                            <div class="overlay">
                                <h1>{service.title}</h1>
                            </div>
                        </div>
                        <p>{service.description}</p>
                    </section>
                </a> <!-- And this line -->
            ))
        }
    </div>
</BaseLayout>

<style>
    .services-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: flex-start;
        gap: 20px;
    }

    .service-section {
        flex-basis: 33.33%;
        box-sizing: border-box;
        padding: 10px;
        position: relative; /* Already exists */
    }

    .service-link {
        display: inline-block;  /* Add this line */
        width: calc(33.33% - 20px);  /* Add this line */
        text-decoration: none;
        color: inherit;
    }

    .service-link:hover {
        /* Add this block */
        opacity: 0.8;
    }

    @media (max-width: 600px) {
        .service-section {
            flex-basis: 100%;
        }
    }

    .image-container {
        height: 200px;
        width: auto; /* Add this line */
        overflow: hidden;
        position: relative;
    }

    .image-container img {
        height: 100%;
        width: 100%; /* Add this line */
        object-fit: cover;
    }

    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        color: #fff; /* Add this line */
        justify-content: center; /* Add this line */
        align-items: center; /* Add this line */
    }
</style>
