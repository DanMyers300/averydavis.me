---
import BaseLayout from '../layouts/BaseLayout.astro';
import siteConfig from '../data/site-config';
---

<BaseLayout>
    <h1>Services</h1>
    <div class="services-container">
        {
            siteConfig.services?.map((service) => (
                <a href={service.url} class="service-link">
                    <section class="service-section">
                        <div class="content-container">
                            <div class="image-container">
                                <img src={service.image.src} alt={service.image.alt} />
                                <div class="overlay">
                                    <h1>{service.title}</h1>
                                </div>
                            </div>
                            <p>{service.description}</p>
                        </div>
                    </section>
                </a>
            ))
        }
    </div>
</BaseLayout>

<style>
    .services-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: flex-start;
    }

    .service-section {
        flex-basis: 33.33%;
        box-sizing: border-box;
        padding: 10px;
        position: relative; /* Already exists */
    }

    .service-link {
        display: inline-block;
        width: calc(33.33% - 20px);
        text-decoration: none;
        color: inherit;
    }

    .content-container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    @media (max-width: 600px) {
        .service-link,
        .content-container {
            width: 100%;
        }

        .services-container {
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
    }

    .service-link:hover {
        opacity: 0.8;
    }

    .image-container {
        height: 200px;
        width: auto; /* Add this line */
        overflow: hidden;
        position: relative;
    }

    .image-container img {
        max-width: 100%;
        height: auto;
        min-width: 200px;
        object-fit: cover;
    }

    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        color: #fff; /* Add this line */
        justify-content: center; /* Add this line */
        align-items: center; /* Add this line */
    }
</style>
